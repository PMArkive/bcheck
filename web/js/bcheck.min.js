!function(){let e=.015,t=-800,l=e*t,n=3500,r=20,h=82,o=[.705078,.999999],c=[4e3,8900],u={uncrouched:{height:82,view:68,u:-3,scale:1},crouched:{height:62,view:45,u:8,scale:82/55}},a={Stock:[12,121],Original:[0,121],Mangler:[8,121],"Mangler Charged":[8,160.9299926757812]};function s(e,t){let n=Math.ceil(-e/l),r=n>=0?i(e,n):0;return Math.max(t,-r)}function i(t,r){let h=f(t),o=r<h?r:h-1,c=.5*l*e*o*o+t*e*o;return r>=h&&(c-=n*e*(r-o)),c}function f(e){return Math.ceil(-(e+n)/l)}function g(r,h){let o=f(h)-1;return i(h,o)<=0?-(h+Math.sqrt(h*h-2*t*r))/l:r/(n*e)+(1+h/n)*o+.5*l/n*o*o}function p(e,t,[l,n]){let r=t?u.crouched:u.uncrouched,h=e*Math.PI/180,o=Math.cos(h),c=Math.sin(h),a=1/(2*r.u*o+3953*c)**2*((3953*r.view+4e3*r.u*o)**2+(-2*l*(r.view-2e3*c))**2+(-2*r.u*(r.view-2e3*c))**2)-r.view**2;return 900*r.scale*(1-Math.sqrt(a+1)/(2*n))*(r.height/2+9)/Math.sqrt(r.height**2+4*a+36*r.height+324)}window.bcheck={UNCROUCHED:0,CROUCHED:1,JUMPBUG:2,checkBounce(t,l,n,c=1){let u=0;l.crouched&&(u-=r),l.ceiling&&(u-=h),l.offs&&(u+=l.offs),n===this.CROUCHED&&(u+=r),t+=u+.03125;let a=[n===this.JUMPBUG?Math.max(0,c-283*e):c,2],f=function(e,t,l){let n=s(t,e-l[0]),r=s(t,e-l[1]),h=Math.floor(g(n,t)),c=Math.ceil(g(r,t)),u=(e-l[0]>=n||e-l[1]>=r)&&h-c>=0;if(u){let e=-i(t,c)%1;if(e>=o[0]&&e<=o[1])return 2}return Number(u)}(t,l.vel,a);return 2===f&&n===this.CROUCHED?1:f},getBounceAngles(e,t,l,n){let r=[],h=[],o=null;for(let u=c[0];u<=c[1];u++){let c=u/100,s=p(c,t.crouched,a[t.weapon]),i=this.checkBounce(e,{...t,vel:s},l,n);(t.double?2===i:0!==i)&&(o&&Math.round(100*(c-o))/100==.01?h.push(c):h.length>1&&(r.push([h.shift(),h.pop()]),h=[]),o=c)}if(h.length>1&&r.push([h.shift(),h.pop()]),r=r.sort((e,t)=>e[0]-e[1]-(t[0]-t[1])),t.ang&&r.length){let e=r[0],l=t.ang;if(-1!==l){let t=e=>(e[0]+e[1])/2;e=r.reduce((e,n)=>Math.abs(t(n)-l)<Math.abs(t(e)-l)?n:e)}return e}return r},getBounces(e,t,l,n){let r=[];for(let h of t){let t=0,o=[];h.ang?(o=this.getBounceAngles(e,h,l,n)).length&&(t=1+!!h.double):t=this.checkBounce(e,h,l,n),t&&r.push({...h,double:2===t,ang:o})}return r},formatBounceJSON(e){let t=Object.keys(e),l=new Set;Object.values(e).forEach(e=>{e.forEach(e=>{let t=e.all||e;t.weapon&&"*"!==t.weapon&&l.add(t.weapon)})});for(let t in e){let n=e[t];for(let e=0;e<n.length;e++){let t=n[e],r=[];if(t.all){n.splice(e,1);for(let l=e;l<n.length&&!n[l].all;l++)n[l]={...n[l],...t.all};e--}else{if("*"===t.weapon)for(let e of l)r.push({...t,weapon:e});else Array.isArray(t.offs)?t.offs.forEach((e,l)=>{r.push({...t,offs:e,text:t.text.replace("*",l+1)})}):Array.isArray(t.vel)?t.vel.forEach(e=>{r.push({...t,vel:e,text:t.text.replace("*",e)})}):t.bounces&&t.bounces.forEach(e=>{let l=Object.assign({},t);delete l.bounces,r.push({...l,...e})});r.length&&n.splice(e,1,...r)}}}return{bounces:e,list:{types:t,weapons:Array.from(l)}}}}}();