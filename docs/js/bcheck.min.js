!function(){let e=.015,t=-800,l=e*t,r=3500,n=20,o=82,c=[.705078,.999999],u=[40,89],a={uncrouched:{height:82,view:68,u:-3,scale:1},crouched:{height:62,view:45,u:8,scale:82/55}},h={Stock:[12,121],Original:[0,121],Mangler:[8,121],"Mangler Charged":[8,160.9299926757812]};function i(e,t){let r=Math.ceil(-e/l),n=r>=0?s(e,r):0;return Math.max(t,-n)}function s(t,n){let o=f(t),c=n<o?n:o-1,u=.5*l*e*c*c+t*e*c;return n>=o&&(u-=r*e*(n-c)),u}function f(e){return Math.ceil(-(e+r)/l)}function g(n,o){let c=f(o)-1;return s(o,c)<=0?-(o+Math.sqrt(o*o-2*t*n))/l:n/(r*e)+(1+o/r)*c+.5*l/r*c*c}window.bcheck={UNCROUCHED:0,CROUCHED:1,JUMPBUG:2,checkBounce(t,l,r,u=1){let a=0;l.crouched&&(a-=n),l.ceiling&&(a-=o),l.offs&&(a+=l.offs),r===this.CROUCHED&&(a+=n),t+=a+(l.ceiling?-.03125:.03125);let h=[r===this.JUMPBUG?Math.max(0,u-283*e):u,2],f=function(e,t,l){let r=i(t,e-l[0]),n=i(t,e-l[1]),o=Math.floor(g(r,t)),u=Math.ceil(g(n,t)),a=(e-l[0]>=r||e-l[1]>=n)&&o-u>=0;if(a){let e=-s(t,u)%1;if(e>=c[0]&&e<=c[1])return 2}return Number(a)}(t,l.vel,h);return 2===f&&r===this.CROUCHED?1:f},getBounceAngles(e,t,l,r){let n=[],o=[0,1],c=.01,i=u[0],s=n=>{let o=function(e,t,[l,r]){let n=t?a.crouched:a.uncrouched,o=e*Math.PI/180,c=Math.cos(o),u=Math.sin(o),h=1/(2*n.u*c+3953*u)**2*((3953*n.view+4e3*n.u*c)**2+(-2*l*(n.view-2e3*u))**2+(-2*n.u*(n.view-2e3*u))**2)-n.view**2;return 900*n.scale*(1-Math.sqrt(h+1)/(2*r))*(n.height/2+9)/Math.sqrt(n.height**2+4*h+36*n.height+324)}(n,t.crouched,h[t.weapon]),c=this.checkBounce(e,{...t,vel:o},l,r);return t.double?2===c:0!==c},f=null,g=e=>{e=Math.round(1e3*e)/1e3,f?(n.push([f,e]),f=null):f=e};for(;!o[0];){if(s(i+(c=.01)-.01))for(o[0]=1,g(i+.01);o[1]&&!(i>u[1]);){if(!s(i+c)){g(i+c-.01),o=[0,0],i+=c;break}c+=.01}else{if(!(i<u[1]))break;i+=.01}if(i<=u[1]&&(o[1]=1),i>u[1]&&n.length<2)return[]}if(n=n.sort((e,t)=>e[0]-e[1]-(t[0]-t[1])),t.ang&&n.length){let e=n[0],l=t.ang;if(-1!==l){let t=e=>(e[0]+e[1])/2;e=n.reduce((e,r)=>Math.abs(t(r)-l)<Math.abs(t(e)-l)?r:e)}return e}return n},getBounces(e,t,l,r){let n=[];for(let o of t){let t=0,c=[];o.ang?(c=this.getBounceAngles(e,o,l,r)).length&&(t=1+!!o.double):t=this.checkBounce(e,o,l,r),t&&n.push({...o,double:2===t,ang:c})}return n},formatBounceJSON(e,t){let l=Object.keys(e);t||(t=new Set,Object.values(e).forEach(e=>{e.forEach(e=>{let l=e.all||e;l.weapon&&"*"!==l.weapon&&t.add(l.weapon)})}));for(let l in e){let r=e[l];for(let e=0;e<r.length;e++){let l=r[e],n=[];if(l.all){r.splice(e,1);for(let t=e;t<r.length&&!r[t].all;t++)r[t]={...r[t],...l.all};e--}else{if("*"===l.weapon)for(let e of t)n.push({...l,weapon:e});else Array.isArray(l.offs)?l.offs.forEach((e,t)=>{n.push({...l,offs:e,text:l.text.replace("*",t+1)})}):Array.isArray(l.vel)?l.vel.forEach(e=>{n.push({...l,vel:e,text:l.text.replace("*",e)})}):l.bounces&&l.bounces.forEach(e=>{let t=Object.assign({},l);delete t.bounces,n.push({...t,...e})});n.length&&r.splice(e,1,...n)}}}return{bounces:e,list:{types:l,weapons:Array.from(t)}}}}}();